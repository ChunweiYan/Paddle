if (NOT LITE_WITH_OPENCL)
    return()
endif()

if (WITH_LITE AND LITE_WITH_LIGHT_WEIGHT_FRAMEWORK)
    cc_library(cl_wrapper SRCS cl_wrapper.cc)
    cc_library(cl_tool SRCS cl_tool.cc)
    target_compile_options(cl_tool BEFORE PUBLIC -Wno-ignored-qualifiers)
    cc_library(cl_half SRCS cl_half.cc)
    target_compile_options(cl_half BEFORE PUBLIC -fno-strict-aliasing)
    cc_library(cl_engine SRCS cl_engine.cc DEPS cl_tool)
    cc_library(cl_context SRCS cl_context.cc DEPS cl_engine)
    cc_library(cl_helper SRCS cl_helper.cc DEPS cl_context)
    cc_library(cl_image_converter SRCS cl_image_converter.cc DEPS cl_half lite_tensor)
    cc_library(cl_image SRCS cl_image.cc DEPS cl_half lite_tensor cl_image_converter cl_engine)
    cc_library(cl_caller SRCS cl_caller.cc  DEPS cl_helper cl_image)
    lite_cc_test(test_cl_runtime SRCS cl_test.cc DEPS cl_helper cl_image cl_caller cl_wrapper)
    add_dependencies(cl_tool opencl_clhpp)
endif()
